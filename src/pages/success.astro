---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout title="Success | IronStack Range Demo">
  <section class="card mx-auto max-w-xl p-8 text-center">
    <p class="text-sm uppercase tracking-widest text-red-500">Operation Complete</p>
    <h1 class="mt-2 text-3xl font-bold text-white">Booking Confirmed</h1>
    <p id="success-message" class="mt-3 text-slate-300">Your request was processed successfully.</p>
    <a href={Astro.base} class="btn-primary mt-6">Back to Dashboard</a>
  </section>
</BaseLayout>

<script>
  const target = document.getElementById('success-message');
  const payload = JSON.parse(localStorage.getItem('lastSuccess') || '{}');
  if (payload?.id && payload?.type && target) {
    target.textContent = `${payload.type} saved. Confirmation ID: ${payload.id}`;
  }
</script>
